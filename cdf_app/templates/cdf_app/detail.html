{% extends "cdf_app/base.html" %}
{% load cdf_extras %}
{% block content %}
<a href="{% url 'index' %}" class="btn btn-sm btn-primary mb-4">Back</a>
<div class="row mb-4">
	<div class="col-auto">
      	<select class="form-select form-select-sm" name="data_column" form="search_form">
			<option value="" selected>--Select column--</option>
			{% for col in tb_header %}
            <option value="{{ col }}">{{ col }}</option>
        	{% endfor %}
		</select>
    </div>
	<form class="col-auto d-flex" method="post" id="search_form">{% csrf_token %}
		<input type="text" name="data_search">
	    <button type="submit" class="btn btn-sm btn-primary mx-2">Search keyword</button>
	</form>
</div>
<div class="d-flex my-2">
	<span class="badge rounded-pill bg-primary">{{ tb_shape.0 }} rows</span>
	<span class="badge rounded-pill bg-secondary">{{ tb_shape.1 }} columns</span>
</div>
<div class="detail-container overflow-scroll my-2">
	<table class="table table-sm table-hover table-bordered">
        <thead>
        	{% for col in tb_header %}
            <th>{{ col }}</th>
        	{% endfor %}
        </thead>
        <tbody>
            {% for row in tb_rows %}
            <tr>
            	{% for data in row %}
            	{% if search_key %}
                <td>{{ data|mark:search_key }}</td>
                {% else %}
                <td>{{ data }}</td>
                {% endif %}
            	{% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}